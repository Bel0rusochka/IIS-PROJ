{% extends "base.html" %}

{% block title %}FITstagram - Home{% endblock %}

{% block content %}
  <!-- Search Bar -->
  <div class="projekt-search1">
    <div class="projekt-group1">
      <img alt="search" src="../static/images/search.svg" class="projekt-search2">
      <form method="GET" action="{{ url_for('index') }}">
        <input type="text" name="query" placeholder="Search by tags...">
        <select name="sort_by">
          <option value="date">Date</option>
          <option value="comments">Comments</option>
          <option value="likes">Likes</option>
          <option value="shares">Shares</option>
        </select>
        {% if session.get('user') %}
           <select name="filter">
            <option value="all">All</option>
            <option value="following">By Following</option>
            <option value="followers">By Followers</option>
          </select>
        {% endif %}
        <button type="submit">Search</button>
      </form>
    </div>
  </div>

  <!-- Gallery of Posts -->
  <div class="projekt-foto">
    {% for post in posts %}
      <a href="{{ url_for('post', post_id=post.id) }}" class="gallery-image">
        <img alt="Image {{ post.id }}" src="{{ url_for('image', id=post.id) }}" class="gallery-image" data-id="{{ post.id }}">
      </a>
    {% endfor %}
  </div>
  <div class="addPost">
    <a href="{{ url_for('create_post') }}">
      <div class="ellipse">
        <span class="projekt-text5">+</span>
      </div>
    </a>
  </div>
  {% if session.user %}
  {% endif %}
{% endblock %}
