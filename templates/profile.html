<!DOCTYPE html>
<html lang="en"> <!-- Added lang attribute for language declaration -->
<head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<title>Profile</title> <!-- Corrected title capitalization -->

  	<link rel="stylesheet" href="../static/css/style.css">
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Arial:wght@400;700&display=swap">
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400&display=swap">
  	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap">
</head>
<body>
  	
  	<div class="profile">
		<div class="my-profile">
			<div class="fit-arrow">
				<a href="{{ url_for('index') }}">
					<img class="arrow-icon" alt="Back" src="../static/images/arrow.svg" id="arrowIcon"> <!-- Added alt text for accessibility -->
				</a>
				<a href="{{ url_for('index') }}" class="pagesignup-text10">FITstagram</a>
			</div>
			<div class="white">
				<div class="usernameedit">
					<img class="generic-avatar-icon" alt="User avatar" src="../static/images/no_avatar.svg"> <!-- Added alt text for accessibility -->
					<div class="user-info-gap">
						<div class="user-info">
							<div class="user-name">{{ user.name }} {{ user.surname }}</div>
							<div class="user-login">@{{ user.login }}</div>
						</div>
						{% if session.user.login == user.login %}
							<div class="button-group">
								<a class="edit-profile" id="editProfileButton" href="{{ url_for('setting', login=user.login) }}">edit profile</a>
								<form method="POST" action="{{ url_for('delete_user') }}">
									<input type="hidden" name="user_login" value="{{ user.login }}">
									<button type="submit" class="delete-profile">delete profile</button>
								</form>
							</div>
						{% else %}
							{% if session.user.login in user.get_friends_login_list() %}
								<form method="POST" action="{{ url_for('unsubscribe') }}">
									<input type="hidden" name="user_login" value="{{ user.login }}">
									<button type="submit" class="subscribe">unsubscribe</button>
								</form>
							{% else %}
								<form method="POST" action="{{ url_for('subscribe') }}">
									<input type="hidden" name="user_login" value="{{ user.login }}">
									<button type="submit" class="subscribe">subscribe</button>
								</form>
							{% endif %}
						{% endif %}
					</div>
				</div>
			</div>
		</div>
		<div class="my-posts">
			{% if session.user.login == user.login %}
				<form method="GET" action="{{ url_for('profile', login=user.login) }}">
					<input type="hidden" name="posts_type" value="not_group">
					<button type="submit" class="add-post">My Posts</button>
				</form>
				|
				<form method="GET" action="{{ url_for('profile', login=user.login) }}">
					<input type="hidden" name="posts_type" value="group">
					<button type="submit" class="add-post">My Groups Posts</button>
				</form>
			{% else %}
				All Posts
			{% endif %}
			<div class="line"></div>
			<div class="posts-and-new">
				<div class="projekt-foto">
					{% for post in posts %}
						<a href="{{ url_for('post', post_id=post.id) }}" class="gallery-image">
							<img alt="Image {{ post.id }}" src="{{ url_for('image', id=post.id) }}" class="gallery-image" data-id="{{ post.id }}"> <!-- Corrected syntax -->
						</a>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</body>
</html>
